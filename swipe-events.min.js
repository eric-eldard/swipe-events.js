var SwipeEvents=SwipeEvents||(()=>{let logEvents=!1;let originX;let originY;let lastX;let lastY;let firstEvent;let lastEvent;window.addEventListener('DOMContentLoaded',()=>console.log(`
            %cswipe-events.js%c v1.0 loaded
                toggle logging to debug: %cSwipeEvents.toggleTelemetryLogging()%c
                more info: https://github.com/eric-eldard/swipe-events.js
        `.replace(/\n {12}/g,'\n'),'color: green','color: unset','color: blue','color: unset'));document.addEventListener('touchstart',e=>{originX=e.changedTouches[0].clientX;originY=e.changedTouches[0].clientY;firstEvent=Date.now();lastX=originX;lastY=originY;lastEvent=firstEvent;fireSwipeEvent(originX,originY,firstEvent,e)});document.addEventListener('touchmove',e=>{var touchX=e.changedTouches[0].clientX,touchY=e.changedTouches[0].clientY,eventTime=Date.now();fireSwipeEvent(touchX,touchY,eventTime,e);lastX=touchX;lastY=touchY;lastEvent=eventTime});document.addEventListener('touchend',e=>fireSwipeEvent(lastX,lastY,Date.now(),e));document.addEventListener('touchcancel',e=>fireSwipeEvent(lastX,lastY,Date.now(),e));function fireSwipeEvent(currentX,currentY,eventTime,e){var initial=e.type==='touchstart',ongoing=initial||e.type==='touchmove',totalChangeInX=currentX-originX,totalChangeInY=currentY-originY,totalDistanceX=Math.abs(totalChangeInX),totalDistanceY=Math.abs(totalChangeInY),totalDistance=Math.hypot(totalDistanceX,totalDistanceY),latestDistanceX=Math.abs(currentX-lastX),latestDistanceY=Math.abs(currentY-lastY),latestDistance=Math.hypot(latestDistanceX,latestDistanceY),duration=eventTime-firstEvent,overallSpeedX=(totalDistanceX/duration)||0,overallSpeedY=(totalDistanceY/duration)||0,overallSpeed=(totalDistance/duration)||0,millisSinceLastEvent=eventTime-lastEvent,latestSpeedX=(latestDistanceX/millisSinceLastEvent)||0,latestSpeedY=(latestDistanceY/millisSinceLastEvent)||0,latestSpeed=(latestDistance/millisSinceLastEvent)||0;let cardinal4=null;let cardinal8=null;let theta=null;if(totalDistanceX>0||totalDistanceY>0){var horizontalDir=originX>currentX?'W':'E',verticalDir=originY>currentY?'N':'S',tangent=Math.atan2(totalDistanceY,totalDistanceX)*(180/Math.PI);cardinal4=(totalDistanceX>totalDistanceY)?horizontalDir:verticalDir;cardinal8=(tangent>22.5&&tangent<67.5)?verticalDir+horizontalDir:cardinal4;var radians=Math.atan2(totalChangeInY,totalChangeInX);theta=(radians<0?(radians+2*Math.PI):radians)*(180/Math.PI)}document.dispatchEvent(new CustomEvent('swipe', {detail:{'event':e,'eventTime':eventTime,'duration':duration,'initial':initial,'ongoing':ongoing,'cardinal4':cardinal4,'cardinal8':cardinal8,'theta':theta,'originX':originX,'originY':originY,'currentX':currentX,'currentY':currentY,'totalDistanceX':totalDistanceX,'totalDistanceY':totalDistanceY,'totalDistance':totalDistance,'latestDistanceX':latestDistanceX,'latestDistanceY':latestDistanceY,'latestDistance':latestDistance,'overallSpeedX':overallSpeedX,'overallSpeedY':overallSpeedY,'overallSpeed':overallSpeed,'latestSpeedX':latestSpeedX,'latestSpeedY':latestSpeedY,'latestSpeed':latestSpeed}}))}document.addEventListener('swipe',e=>{logEvents&&console.debug(`
                -- swipe event --

              %cevent:              ${e.detail.event.type}
                event time:         ${e.detail.eventTime}
                duration:           ${e.detail.duration}
                initial:            ${e.detail.initial}
                ongoing:            ${e.detail.ongoing}
              %ccardinal 4:         ${e.detail.cardinal4}
                cardinal 8:         ${e.detail.cardinal8}
                theta:              ${e.detail.theta}
              %corigin X:           ${e.detail.originX}
                origin Y:           ${e.detail.originY}
              %ccurrent X:          ${e.detail.currentX}
                current Y:          ${e.detail.currentY}
              %ctotal distance X:   ${e.detail.totalDistanceX}
                total distance Y:   ${e.detail.totalDistanceY}
                total distance:     ${e.detail.totalDistance}
              %clatest distance X:  ${e.detail.latestDistanceX}
                latest distance Y:  ${e.detail.latestDistanceY}
                latest distance:    ${e.detail.latestDistance}
              %coverall speed X:    ${e.detail.overallSpeedX}
                overall speed Y:    ${e.detail.overallSpeedY}
                overall speed:      ${e.detail.overallSpeed}
              %clatest speed X:     ${e.detail.latestSpeedX}
                latest speed Y:     ${e.detail.latestSpeedY}
                latest speed:       ${e.detail.latestSpeed}

            `.replace(/\n +/g,'\n'),'color: dimgray','color: brown','color: green','color: red','color: blue','color: orange','color: purple','color: darkcyan')});return{telemetryLoggingEnabled:function(){return logEvents},toggleTelemetryLogging:function(){logEvents=!logEvents;return logEvents}}})();
